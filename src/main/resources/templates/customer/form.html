<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Th√™m / C·∫≠p nh·∫≠t kh√°ch h√†ng</title>
    <style>
        body {
            background-color: #e9f2ff;
            font-family: "Segoe UI", Tahoma, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .form-container {
            background: white;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 18px rgba(0, 0, 0, 0.1);
            width: 500px;
            max-width: 100%;
        }

        h2 {
            text-align: center;
            color: #0d6efd;
            margin-bottom: 25px;
        }

        .alert {
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 6px;
            font-size: 14px;
        }

        .alert-danger {
            background-color: #f8d7da;
            color: #842029;
            border: 1px solid #f5c2c7;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #333;
        }

        .required::after {
            content: " *";
            color: #dc3545;
        }

        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="tel"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            margin-bottom: 8px;
            box-sizing: border-box;
            font-size: 15px;
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #0d6efd;
            box-shadow: 0 0 4px rgba(13, 110, 253, 0.3);
        }

        .error-message {
            color: #dc3545;
            font-size: 13px;
            margin-top: -5px;
            margin-bottom: 10px;
        }

        .help-text {
            font-size: 13px;
            color: #6c757d;
            margin-top: -5px;
            margin-bottom: 15px;
        }

        .btn {
            display: inline-block;
            background-color: #0d6efd;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 15px;
            font-weight: 500;
        }

        .btn:hover {
            background-color: #0b5ed7;
        }

        .actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        a {
            text-decoration: none;
            color: #0d6efd;
            font-weight: bold;
        }

        a:hover {
            text-decoration: underline;
        }

        .form-group {
            margin-bottom: 18px;
        }
    </style>
</head>
<body>
<div class="form-container">
    <h2 th:text="${isEdit} ? '‚úèÔ∏è C·∫≠p nh·∫≠t kh√°ch h√†ng' : 'üë§ Th√™m kh√°ch h√†ng m·ªõi'"></h2>

    <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

    <form th:action="@{/customer/save}" method="post" th:object="${customer}">
        <input type="hidden" th:field="*{id}"/>

        <!-- T√™n ƒëƒÉng nh·∫≠p -->
        <div class="form-group">
            <label for="name" class="required">T√™n ƒëƒÉng nh·∫≠p</label>
            <input type="text" id="name" th:field="*{name}"
                   placeholder="VD: nguyenvana"
                   th:readonly="${isEdit}"
                   pattern="^[a-zA-Z0-9_]+$"
                   title="Ch·ªâ ƒë∆∞·ª£c ch·ª©a ch·ªØ c√°i, s·ªë v√† d·∫•u g·∫°ch d∆∞·ªõi"
                   required/>
            <p class="help-text" th:if="${!isEdit}">T√™n n√†y s·∫Ω ƒë∆∞·ª£c d√πng ƒë·ªÉ ƒëƒÉng nh·∫≠p. Ch·ªâ ch·ª©a ch·ªØ c√°i, s·ªë v√† d·∫•u g·∫°ch d∆∞·ªõi</p>
            <p class="help-text" th:if="${isEdit}">Kh√¥ng th·ªÉ thay ƒë·ªïi t√™n ƒëƒÉng nh·∫≠p</p>
            <p th:if="${#fields.hasErrors('name')}"
               th:errors="*{name}"
               class="error-message"></p>
        </div>

        <!-- M·∫≠t kh·∫©u -->
        <div class="form-group">
            <label for="password" th:classappend="${!isEdit} ? 'required' : ''">
                <span th:text="${isEdit} ? 'M·∫≠t kh·∫©u m·ªõi' : 'M·∫≠t kh·∫©u'"></span>
            </label>
            <input type="password" id="password" name="password"
                   placeholder="Nh·∫≠p m·∫≠t kh·∫©u"
                   minlength="3"
                   th:required="${!isEdit}"/>
            <p class="help-text">
                <span th:text="${isEdit} ? 'ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng mu·ªën ƒë·ªïi m·∫≠t kh·∫©u. ' : ''"></span>
                M·∫≠t kh·∫©u t·ªëi thi·ªÉu 3 k√Ω t·ª±
            </p>
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" th:field="*{email}"
                   placeholder="VD: nguyenvana@gmail.com"/>
            <p th:if="${#fields.hasErrors('email')}"
               th:errors="*{email}"
               class="error-message"></p>
        </div>

        <!-- S·ªë ƒëi·ªán tho·∫°i -->
        <div class="form-group">
            <label for="phoneNumber">S·ªë ƒëi·ªán tho·∫°i</label>
            <input type="tel" id="phoneNumber" th:field="*{phoneNumber}"
                   placeholder="VD: 0912345678"
                   pattern="^(\+84|0)[0-9]{9}$"
                   title="S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá"/>
            <p class="help-text">ƒê·ªãnh d·∫°ng: 0912345678 ho·∫∑c +84912345678</p>
            <p th:if="${#fields.hasErrors('phoneNumber')}"
               th:errors="*{phoneNumber}"
               class="error-message"></p>
        </div>

        <!-- ƒê·ªãa ch·ªâ -->
        <div class="form-group">
            <label for="address">ƒê·ªãa ch·ªâ</label>
            <textarea id="address" th:field="*{address}"
                      placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ"
                      maxlength="200"></textarea>
            <p th:if="${#fields.hasErrors('address')}"
               th:errors="*{address}"
               class="error-message"></p>
        </div>

        <div class="actions">
            <a th:href="@{/customer}">‚¨Ö Quay l·∫°i</a>
            <button type="submit" class="btn">
                <span th:text="${isEdit} ? 'üíæ C·∫≠p nh·∫≠t' : '‚ûï Th√™m m·ªõi'"></span>
            </button>
        </div>
    </form>
</div>
</body>
</html>